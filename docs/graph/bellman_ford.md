# Bellman–Ford 알고리즘

## 1. 개요
- 단일 출발점(single-source) 최단 경로 문제를 해결하는 알고리즘
- 음수 가중치가 있는 간선이 포함되어 있어도 동작하며, 음수 사이클 탐지 기능을 가짐
- 1958년 L. R. Bellman과 Richard Ford의 연구를 기반으로 함

## 2. 사용되는 상황
1. **단일 출발점 최단 경로**를 구해야 할 때
2. **음수 가중치**가 그래프에 포함되어 있고, 음수 사이클 여부를 확인할 때
3. 모든 정점에서 거리를 초기화할 수 있으면, 출발 정점 없이도 음수 사이클만 탐지할 때

## 3. 동작 원리
- 모든 간선을 반복적으로 완화(relaxation)하여, 최단 거리 값을 갱신
- 정점 개수 n일 때, 최대 n-1번 반복하면 모든 최단 경로가 확정
- n번째 반복에서 더 완화가 발생하면 **음수 사이클**이 존재함

### 3.1. 완화(relaxation)
```text
if dist[v] > dist[u] + w(u→v):
    dist[v] = dist[u] + w(u→v)
```

### 3.2. 초기화
- 일반적인 최단 경로: 출발점 `s`에 대해
  - `dist[s] = 0`, 나머지 `dist[i] = ∞`
- 음수 사이클 탐지만: 모든 정점 `i`에 대해 `dist[i] = 0`으로 초기화해도 사이클 여부 판단 가능

## 4. 의사코드 (Pseudocode)
```text
// n: 정점 수, edges: (u, v, w) 간선 리스트
initialize dist[1..n] = {0 or ∞}
for i = 1 to n-1:
    for each (u, v, w) in edges:
        relax edge u→v

// 음수 사이클 탐지
for each (u, v, w) in edges:
    if dist[v] > dist[u] + w:
        음수 사이클 존재
```

## 5. 시간복잡도
- 간선 m개를 n번 반복하며 완화: O(n·m)
- 음수 가중치 검출까지 고려해도 O(n·m)

## PLUS. 웜홀(음수 사이클, 1865 BOJ) 문제에 적용 이유
- 웜홀 문제는 그래프 어딘가에 **음수 사이클**이 있는지만 판별
- 모든 정점 출발 거리를 0으로 초기화하면, 특정 출발점 없이도 사이클 탐지 가능
- 벨만–포드는 n번째 반복에서 완화 발생 여부로 음수 사이클을 정확히 감지
- 플로이드–와샬보다 간단하고, n³이 아닌 n·m으로 더 빠름
